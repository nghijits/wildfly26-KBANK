(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[12],{46:function(e,t,l){"use strict";l.r(t);var a=l(0),o=l.n(a),n=l(1),i=l(3);class s extends a.Component{constructor(e){super(e),this.getData=()=>{let{form:e}=this.state;this.props.func_save_rule_and_close({component_action:e.rule_numberCal.value_field.dataFull.value,component_result:e.rule_numberCal.calculation_expression.dataFull.value})},this.convert_value_field_template=()=>({dataFull:{config:{default:{title:n.g.getLang("designForm_rule_value_field"),class:"col-md-12 ",required:!1,placeholder:n.g.getLang("designForm_rule_value_field"),helper:n.g.getLang("designForm_rule_value_field_helper"),code_form_component:"value_field"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.component_action,abs_Change:this.onChangeValue}}),this.convert_calculation_expression=()=>({dataFull:{config:{default:{helper:n.g.getLang("designForm_rule_calculation_expression_helper"),title:n.g.getLang("designForm_rule_calculation_expression"),class:"col-md-12",rows:10,code_form_component:"calculation_expression"},cmd:{isHelper:!0,disable:!1,visible:!0,error:{message:"",type:""}}},data:[],value:this.data.component_result,abs_Change:this.onChangeValue}}),this.loadDataToState=()=>{let e={};return e.title=n.g.getLang("designForm_rule_numberCal_title"),e.status_form=this.props.modal_edit_rule_func.ruleStrong_default.isStatus,e.order=this.props.modal_edit_rule_func.ruleStrong_default.order,e.value_field=this.convert_value_field_template(),e.calculation_expression=this.convert_calculation_expression(),e.begin=this.props.modal_edit_rule_func.ruleStrong_default.isStart,e.status=this.props.modal_edit_rule_func.ruleStrong_default.inUse,e.isDidStart=this.props.modal_edit_rule_func.ruleStrong_default.isDidStart,e.isOpenFromOther=this.props.modal_edit_rule_func.ruleStrong_default.isOpenFromOther,e.button_save={dataFull:{config:{default:{title:n.g.getLang("designForm_rule_save"),type:"primary",icon:""},cmd:{disable:!1,isLoading:!1,isFocus:!1}},abs_Click:this.getData}},e},this.componentDidMount=()=>{let{modal:e}=this.state,{form:t}=this.state;e={title:n.g.getLang("designForm_rule_modal_title"),helper:n.g.getLang("designForm_rule_modal_title_helper"),abs_Close:this.func_close_modal,visibility:!0},t.rule_numberCal=this.loadDataToState(),t.list_component={title:n.g.getLang("designForm_rule_listcp"),helper:n.g.getLang("designForm_rule_listcp_helper"),table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_header:{dataFull:{Header:{data:[{title:"Layout",config:{width:"",isFrozen:!1}},{title:"View",config:{isFrozen:!1}},{title:"Name",config:{isFrozen:!1}},{title:"Code",config:{isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_data:this.props.modal_edit_rule_func.list_components},this.setState({modal:e,form:t})},this.func_close_modal=()=>{this.props.func_cancel_modal_edit_rule_func()},this.onChangeValue=(e,t)=>{let{form:l}=this.state;l.rule_numberCal[t].dataFull.value=e.target.value,this.setState({form:l})},this.onChangeValueSelect=(e,t,l)=>{let{form:a}=this.state;if(l){for(const t of a.rule_numberCal[l].dataFull.data)t.selected=t.value===e;this.setState({form:a})}},this.Modal_NumberCal_Rule=Object(i.c)("designFormModal_ruleFunction_numberCal"),this.DESIGNFORM_CODE_TOOL_ITEMS="designToolItem",this.data=this.readConfig(this.props.modal_edit_rule_func.ruleStrong_detail),this.state={modal:{},form:{}}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.component_action?t.component_action=e.component_action:t.component_action="",null!=e.component_result?t.component_result=e.component_result:t.component_result="",t}getConfigSelectItem(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>({title:t.title,value:t.value,selected:t.value===e}))}render(){const e=this.Modal_NumberCal_Rule;return o.a.createElement(e,{stateData:this.state})}}t.default=s}}]);