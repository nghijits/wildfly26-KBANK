(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[29,14,131],{68:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var l=a(1);class i{}i.readConfigData=(e,t,a)=>{let s={},o=[{title:"txFo",code:"false"},{title:"txFo Actions",code:"true"}],r=[];for(let l=0;l<o.length;l++)r.push({title:o[l].title,value:o[l].code,selected:o[l].code===e.useAction});return s.useActionConfig={dataFull:{config:{default:{search:{placeholder:l.g.getLang("designForm_useAction")},helper:l.g.getLang("designForm_useAction_helper"),data_status:"No Result",title:l.g.getLang("designForm_useAction"),class:"col-md-6",required:!1,code_form_component:"action_event"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:r,search_value:"",abs_Change:t,abs_search:i.search}},s.txFoConfig={dataFull:{config:{default:{helper:"true"===e.useAction?"txFoActions":"txFo",title:"true"===e.useAction?"txFoActions":"txFo",class:"col-md-12",rows:10,code_form_component:"true"===e.useAction?"txFoActions":"txFo"},cmd:{isHelper:!0,disable:!1,visible:!0,error:{message:"",type:""}}},data:[],value:"true"===e.useAction?e.txFoActions:e.txFo,abs_Change:a}},s}},75:function(e,t,a){"use strict";a.r(t);var l=a(0),i=a.n(l),s=a(3),o=a(68),r=a(1);class n extends l.Component{constructor(e){super(e),this.getData=()=>{let{CCPDefaultConfig:e}=this.state,t=e.action.action_callForm.dataFull.data.find(e=>e.selected),a=e.auto_print.dataFull.data.find(e=>e.selected),l=e.master_data.MD_isMasterData.dataFull.data.find(e=>e.selected),i=e.master_data.tableMasterData.dataFull.data.find(e=>e.selected),s=e.master_data.privateKeyTableMasterData.dataFull.data.find(e=>e.selected),o=e.active.dataFull.data.find(e=>e.selected);return{node_data_print:e.node_data_print.dataFull.value,json_path:e.json_path.dataFull.value,auto_print:a.value,action:this.data.action,icon:this.data.icon,color:this.data.color,useAction:t.value,txFoActions:"true"===t.value?e.action.action_textarea.dataFull.value:this.data.txFoActions,txFo:"true"!==t.value?e.action.action_textarea.dataFull.value:this.data.txFo,isMasterData:l.value,tableMasterData:i.value,privateKeyTableMasterData:s?s.value:"",isLookup:this.data.isLookup,cmd:this.data.cmd,callform:this.data.callform,uploadfile:{active:o.value,filetype:e.filetype.dataFull.value}}},this.loadDataToState=()=>{let e={},t=[],a=[];for(let l=0;l<this.data_schema.length;l++)t.push({title:this.data_schema[l].title,value:this.data_schema[l].code,selected:this.data.tableMasterKey===this.data_schema[l].code});!t.find(e=>e.selected)&&t.length>0&&(t[0].selected=!0);for(let l=0;l<this.data_schema_pk.length;l++)a.push({title:this.data_schema_pk[l].title,value:this.data_schema_pk[l].code,selected:this.data.privateKeyTableMasterData===this.data_schema_pk[l].code});return!a.find(e=>e.selected)&&a.length>0&&(a[0].selected=!0),e.node_data_print={dataFull:{config:{default:{title:r.g.getLang("designForm_jPrintVoucher_nodeDataPrint"),class:"col-md-6 ",required:!1,placeholder:r.g.getLang("designForm_jPrintVoucher_nodeDataPrint"),helper:r.g.getLang("designForm_jPrintVoucher_nodeDataPrint"),code_form_component:"node_data_print"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.node_data_print,abs_Change:this.onChangeValue}},e.json_path={dataFull:{config:{default:{title:r.g.getLang("designForm_jPrintVoucher_json_path"),class:"col-md-6 ",required:!1,placeholder:r.g.getLang("designForm_jPrintVoucher_json_path"),helper:r.g.getLang("designForm_jPrintVoucher_json_path"),code_form_component:"json_path"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.json_path,abs_Change:this.onChangeValue}},e.auto_print={dataFull:{config:{default:{search:{placeholder:r.g.getLang("designForm_jPrintVoucher_auto_print")},helper:r.g.getLang("designForm_jPrintVoucher_auto_print"),data_status:"No Result",title:r.g.getLang("designForm_jPrintVoucher_auto_print"),class:"col-md-6",required:!1,code_form_component:"auto_print"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:r.g.getLang("designForm_yes"),value:"true",selected:"true"===this.data.auto_print},{title:r.g.getLang("designForm_no"),value:"false",selected:"true"!==this.data.auto_print}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},e.filetype={dataFull:{config:{default:{title:r.g.getLang("designForm_jPrintVoucher_filetype"),class:"col-md-6 ",required:!1,placeholder:"image/png, image/jpeg",helper:r.g.getLang("designForm_jPrintVoucher_filetype_helper"),code_form_component:"filetype"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.uploadfile.active,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.uploadfile.filetype,abs_Change:this.onChangeValue}},e.active={dataFull:{config:{default:{search:{placeholder:r.g.getLang("designForm_jPrintVoucher_is_upload")},helper:r.g.getLang("designForm_jPrintVoucher_is_upload_hepler"),data_status:"No Result",title:r.g.getLang("designForm_jPrintVoucher_is_upload"),class:"col-md-6",required:!1,code_form_component:"active"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:r.g.getLang("designForm_yes"),value:"true",selected:"true"===this.data.uploadfile.active},{title:r.g.getLang("designForm_no"),value:"false",selected:"true"!==this.data.uploadfile.active}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},e.action={action_multiValue:{dataFull:{config:{default:{title:r.g.getLang("designForm_action")},cmd:{visible:!0}}}},action_callForm:this.obj_render_txFo.useActionConfig,action_textarea:this.obj_render_txFo.txFoConfig},e.master_data={MD_multiValue:{dataFull:{config:{default:{title:r.g.getLang("designForm_jPrintVoucher_MasterData")},cmd:{visible:!1}}}},MD_isMasterData:{dataFull:{config:{default:{search:{placeholder:r.g.getLang("designForm_jPrintVoucher_isMasterData")},helper:r.g.getLang("designForm_jPrintVoucher_isMasterData_helper"),data_status:"No Result",title:r.g.getLang("designForm_jPrintVoucher_isMasterData"),class:"col-md-6",required:!1,code_form_component:"MD_isMasterData"},cmd:{isHelper:!0,disable:!1,visible:!1,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:r.g.getLang("designForm_yes"),value:"true",selected:"true"===this.data.isMasterData},{title:r.g.getLang("designForm_no"),value:"false",selected:"true"!==this.data.isMasterData}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},tableMasterData:{dataFull:{config:{default:{search:{placeholder:r.g.getLang("designForm_jPrintVoucher_tableMasterData")},helper:r.g.getLang("designForm_jPrintVoucher_tableMasterData_helper"),data_status:"No Result",title:r.g.getLang("designForm_jPrintVoucher_tableMasterData"),class:"col-md-6",required:!1,code_form_component:"tableMasterData"},cmd:{isHelper:!0,disable:!1,visible:!1,isFocus:!1,error:{message:"",type:""}},mode:{}},data:t,search_value:"",abs_Change:this.onChangeValueSelect_tableMasterData,abs_search:this.search}},privateKeyTableMasterData:{dataFull:{config:{default:{search:{placeholder:r.g.getLang("designForm_jPrintVoucher_privateKeyTableMasterData")},helper:r.g.getLang("designForm_jPrintVoucher_privateKeyTableMasterData_helper"),data_status:"No Result",title:r.g.getLang("designForm_jPrintVoucher_privateKeyTableMasterData"),class:"col-md-6",required:!1,code_form_component:"privateKeyTableMasterData"},cmd:{isHelper:!0,disable:!1,visible:!1,isFocus:!1,error:{message:"",type:""}},mode:{}},data:a,search_value:"",abs_Change:this.onChangeValueSelect_tableMasterData,abs_search:this.search}}},e},this.componentDidMount=()=>{this.data=this.readConfig(this.props.configComponent.configItem.config),this.obj_render_txFo=o.default.readConfigData(this.data,this.onChangeValueSelect,this.onChangeValue_ActionContent),this.setState({CCPDefaultConfig:this.loadDataToState()})},this.onChangeValue=(e,t)=>{let{CCPDefaultConfig:a}=this.state;a[t].dataFull.value=e.target.value,this.setState({CCPDefaultConfig:a})},this.onChangeValue_ActionContent=(e,t)=>{let{CCPDefaultConfig:a}=this.state;a.action.action_textarea.dataFull.value=e.target.value,this.setState({CCPDefaultConfig:a})},this.getListPrivateKeyTable=e=>{let t=[];var a=this.changDataSchemaTo_privateKeyTableMasterData(e);if(void 0!==a.data_schema_pk){this.data_schema_pk=a.data_schema_pk;for(let e=0;e<this.data_schema_pk.length;e++)t.push({title:this.data_schema_pk[e].title,value:this.data_schema_pk[e].code,selected:this.data.privateKeyTableMasterData===this.data_schema_pk[e].code});!t.find(e=>e.selected)&&t.length>0&&(t[0].selected=!0)}return t},this.onChangeValueSelect_tableMasterData=(e,t,a)=>{let{CCPDefaultConfig:l}=this.state;"tableMasterData"===a&&(l.master_data.privateKeyTableMasterData.dataFull.data=this.getListPrivateKeyTable(e));for(const i of l.master_data[a].dataFull.data)i.selected=i.value===e;this.setState({CCPDefaultConfig:l})},this.onChangeValueSelect=(e,t,a)=>{let{CCPDefaultConfig:l}=this.state;if(a){if("action_event"===a){let e=[],a=[];e=l.action.action_callForm.dataFull.data.filter(e=>e.selected),a=l.action.action_callForm.dataFull.data.filter((e,a)=>a===t),e.length>0&&(e[0].selected=!1),a.length>0&&(a[0].selected=!0),l.action.action_textarea={dataFull:{config:{default:{helper:a[0].title,title:a[0].title,class:"col-md-12",rows:10,code_form_component:"true"===a[0].value?"txFoAction":"txFo"},cmd:{isHelper:!0,disable:!1,visible:!0,error:{message:"",type:""}}},data:[],value:"true"===a[0].value?this.data.txFoActions:this.data.txFo,abs_Change:this.onChangeValue_ActionContent}}}else if("MD_isMasterData"===a){l.master_data.tableMasterData.dataFull.config.cmd.visible="true"===e,l.master_data.privateKeyTableMasterData.dataFull.config.cmd.visible="true"===e;for(const t of l.master_data[a].dataFull.data)t.selected=t.value===e}else if("active"===a){l.filetype.dataFull.config.cmd.visible="true"===e;for(const t of l[a].dataFull.data)t.selected=t.value===e}else for(const t of l[a].dataFull.data)t.selected=t.value===e;this.setState({CCPDefaultConfig:l})}},this.CCP_Default_Config_button_print=Object(s.c)("CCP_Default_Config_button_print"),this.DESIGNFORM_CODE_TOOL_ITEMS="designToolItem",this.data={},this.obj_render_txFo={},this.data_schema=[],this.data_schema_pk=[],this.state={CCPDefaultConfig:{}}}changDataSchemaToDataSelect(){for(var e=Object(r.n)().all_id_button,t=[{title:"Ch\u01b0a ch\u1ecdn",code:""}],a=0;a<e.length;a++)t[t.length]={title:e[a].title,code:e[a].type};return t.sort((function(e,t){var a=e.title.toUpperCase(),l=t.title.toUpperCase();return a<l?-1:a>l?1:0})),t}changDataSchemaTo_privateKeyTableMasterData(e){var t=Object(r.n)(),a=[],l="";if(void 0!==t&&void 0!==t.all_id_button)for(var i=t.all_id_button,s=0;s<i.length;s++){var o=i[s];if(void 0!==o.type&&void 0!==o.detail&&""!==o.type.trim()&&o.type.trim()===e){for(var n=0;n<o.detail.length;n++){var d=o.detail[n];void 0!==d.datapk&&"true"===d.datapk&&(""===l&&(l=d.code),a[a.length]={title:d.title,code:d.code})}break}}return{data_schema_pk:a,privateKeyTableMasterData:l}}readConfig(e){var t={};if(void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions=JSON.stringify([{function:"",status:"A",para:[]}],null,4),null!=e.txFo?t.txFo=e.txFo:t.txFo=JSON.stringify([{txcode:"",input:{}}],null,4),null!=e.useAction?t.useAction=e.useAction:t.useAction="true",null!=e.json_path?t.json_path=e.json_path:t.json_path="",null!=e.color?t.color=e.color:t.color="primary",null!=e.icon?t.icon=e.icon:t.icon="fa-print",null!=e.auto_print?t.auto_print=e.auto_print:t.auto_print="false",null!=e.node_data_print?t.node_data_print=e.node_data_print:t.node_data_print="",null!=e.isMasterData?t.isMasterData=e.isMasterData:t.isMasterData="false",this.data_schema=this.changDataSchemaToDataSelect(),this.data_schema.length>0){var a=this.changDataSchemaTo_privateKeyTableMasterData(e.tableMasterData);void 0!==a.data_schema_pk&&(this.data_schema_pk=a.data_schema_pk)}return null!=e.tableMasterData?t.tableMasterData=e.tableMasterData:t.tableMasterData=this.data_schema[0].code,null!=e.privateKeyTableMasterData?t.privateKeyTableMasterData=e.privateKeyTableMasterData:t.privateKeyTableMasterData=this.data_schema_pk.length>0?this.data_schema_pk[0].code:"",null!=e.isLookup?t.isLookup=e.isLookup:t.isLookup="",null!=e.cmd?t.cmd=e.cmd:t.cmd="",null!=e.callform?t.callform=e.callform:t.callform="",null!=e.uploadfile||void 0!==e.uploadfile?(t.uploadfile=e.uploadfile,void 0===e.uploadfile.active&&(e.uploadfile.active="false"),void 0===e.uploadfile.filetype&&(e.uploadfile.filetype="")):t.uploadfile={active:"false",filetype:""},t}render(){const e=this.CCP_Default_Config_button_print;return i.a.createElement(e,{stateData:this.state.CCPDefaultConfig})}}t.default=n}}]);