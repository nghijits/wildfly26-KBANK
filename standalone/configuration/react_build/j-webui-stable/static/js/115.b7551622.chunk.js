(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[115],{122:function(e,t,o){"use strict";o.r(t);var a=o(0),l=o.n(a),c=o(3),s=o(1);class n extends a.Component{constructor(e){super(e),this.validateData=()=>{for(const[,e]of Object.entries(this.error_cpn))if(!1===e)return!1;return!0},this.getData=()=>{let{CCP_Default_Config_tableForm:e}=this.state,t=e.hasSystemColumnCheck.dataFull.data.find(e=>e.selected),o=e.check_type.dataFull.data.find(e=>e.selected),a=e.hasSystemColumnCheckTotal.dataFull.data.find(e=>e.selected);if(this.validateData())return{structable:e.collection_method.dataFull.value,query_data:e.table_data.dataFull.value,paging_record:e.data_record.dataFull.value,columns:e.config_column.dataFull.value,hasPaging:this.data.hasPaging,onTable:this.data.onTable,hasSystemColumnCheck:t.value,columnSystemCheckBox:{methodGet:this.data.columnSystemCheckBox.methodGet,hasSystemColumnCheckTotal:a.value,check_type:o.value,headerCheckTitle:e.headerCheckTitle.dataFull.value,actionFo_SystemCheck:this.data.columnSystemCheckBox.actionFo_SystemCheck,checked_to_selected:this.data.columnSystemCheckBox.checked_to_selected},actionFo_RowSelect:this.data.actionFo_RowSelect}},this.onBlurValueJson=(e,t)=>{let{CCP_Default_Config_tableForm:o}=this.state;try{let a=JSON.parse(e.target.value);Array.isArray(a)?(o[t].dataFull.value=JSON.stringify(JSON.parse(e.target.value),null,4),o[t].dataFull.config.cmd.error.message="",this.error_cpn[t]=!0):(this.error_cpn[t]=!1,o[t].dataFull.config.cmd.error.message=s.g.getLang("designform_not_json_format")),this.setState({CCP_Default_Config_tableForm:o})}catch(a){this.error_cpn[t]=!1,o[t].dataFull.config.cmd.error.message=s.g.getLang("designform_not_json_format"),alert(a)}this.setState({CCP_Default_Config_tableForm:o})},this.loadDataToState=()=>({collection_method:{dataFull:{config:{default:{title:"Collection method",class:"col-md-12 ",required:!1,placeholder:"Collection method",helper:"Collection method",code_form_component:"collection_method"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.structable,abs_Change:this.onChangeValue}},data_record:{dataFull:{config:{default:{title:"Data per page",class:"col-md-12 ",required:!1,placeholder:"Data per page",helper:"Data per page",code_form_component:"data_record"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.paging_record,abs_Change:this.onChangeValue}},table_data:{dataFull:{config:{default:{title:"Table data",class:"col-md-12 ",required:!1,placeholder:"Table data",helper:"Table data",code_form_component:"table_data"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.query_data,abs_Change:this.onChangeValue}},config_column:{dataFull:{config:{default:{helper:"Config of columns (JSON)",title:"Config of columns (JSON)",class:"col-md-12",rows:10,code_form_component:"config_column"},cmd:{isHelper:!0,disable:!1,visible:!0,error:{message:"",type:""}}},data:[],value:this.data.columns,abs_Change:this.onChangeValue,abs_Blur:this.onBlurValueJson}},hasSystemColumnCheck:{dataFull:{config:{default:{search:{placeholder:s.g.getLang("designForm_jTableForm_hasSystemColumnCheck")},helper:s.g.getLang("designForm_jTableForm_hasSystemColumnCheck_helper"),data_status:"No Result",title:s.g.getLang("designForm_jTableForm_hasSystemColumnCheck"),class:"col-md-6",required:!1,code_form_component:"hasSystemColumnCheck"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:s.g.getLang("designForm_yes"),value:"true",selected:"true"===this.data.hasSystemColumnCheck},{title:s.g.getLang("designForm_no"),value:"false",selected:"true"!==this.data.hasSystemColumnCheck}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},hasSystemColumnCheckTotal:{dataFull:{config:{default:{search:{placeholder:s.g.getLang("designForm_jTableForm_hasSystemColumnCheckTotal")},helper:s.g.getLang("designForm_jTableForm_hasSystemColumnCheckTotal_helper"),data_status:"No Result",title:s.g.getLang("designForm_jTableForm_hasSystemColumnCheckTotal"),class:"col-md-6",required:!1,code_form_component:"hasSystemColumnCheckTotal"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.hasSystemColumnCheck,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:s.g.getLang("designForm_yes"),value:"true",selected:"true"===this.data.columnSystemCheckBox.hasSystemColumnCheckTotal},{title:s.g.getLang("designForm_no"),value:"false",selected:"true"!==this.data.columnSystemCheckBox.hasSystemColumnCheckTotal}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},headerCheckTitle:{dataFull:{config:{default:{title:s.g.getLang("designForm_jTableForm_headerCheckTitle"),class:"col-md-12 ",required:!1,placeholder:s.g.getLang("designForm_jTableForm_headerCheckTitle"),helper:s.g.getLang("designForm_jTableForm_headerCheckTitle"),code_form_component:"headerCheckTitle"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.hasSystemColumnCheck,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.columnSystemCheckBox.headerCheckTitle,abs_Change:this.onChangeValue}},check_type:{dataFull:{config:{default:{search:{placeholder:s.g.getLang("designForm_jTableForm_check_type")},helper:s.g.getLang("designForm_jTableForm_check_type_helper"),data_status:"No Result",title:s.g.getLang("designForm_jTableForm_check_type"),class:"col-md-6",required:!1,code_form_component:"check_type"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.hasSystemColumnCheck,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:"Not use",value:"DEFAULT",selected:"DEFAULT"===this.data.columnSystemCheckBox.check_type},{title:"Check to selected",value:"CHECK_TO_SELECTED",selected:"CHECK_TO_SELECTED"===this.data.columnSystemCheckBox.check_type},{title:"No empty",value:"NO_EMPTY",selected:"NO_EMPTY"===this.data.columnSystemCheckBox.check_type}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}}}),this.componentDidMount=()=>{this.setState({CCP_Default_Config_tableForm:this.loadDataToState()})},this.onChangeValue=(e,t)=>{let{CCP_Default_Config_tableForm:o}=this.state;o[t].dataFull.value=e.target.value,this.setState({CCP_Default_Config_tableForm:o})},this.onChangeValueSelect=(e,t,o)=>{let{CCP_Default_Config_tableForm:a}=this.state;if(o){"hasSystemColumnCheck"===o&&(a.hasSystemColumnCheckTotal.dataFull.config.cmd.visible="true"===e,a.headerCheckTitle.dataFull.config.cmd.visible="true"===e,a.check_type.dataFull.config.cmd.visible="true"===e);for(const t of a[o].dataFull.data)t.selected=t.value===e;this.setState({CCP_Default_Config_tableForm:a})}},this.CCP_Default_Config_tableForm=Object(c.c)("CCP_Default_Config_tableForm"),this.data=this.readConfig(this.props.configComponent.configItem.config),this.error_cpn={},this.state={CCP_Default_Config_tableForm:{}}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.paging_record?t.paging_record=e.paging_record:t.paging_record="5",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{code:"table.name",title:"Name",inputtype:"ColumnString",config:{}}],null,4),null!==e.hasPaging?t.hasPaging=e.hasPaging:t.hasPaging="true",null!=e.onTable?t.onTable=e.onTable:t.onTable="",null!=e.hasSystemColumnCheck&&void 0!==e.hasSystemColumnCheck?t.hasSystemColumnCheck=e.hasSystemColumnCheck:t.hasSystemColumnCheck="false",null!=e.columnSystemCheckBox&&void 0!==e.columnSystemCheckBox?t.columnSystemCheckBox=e.columnSystemCheckBox:(t.columnSystemCheckBox={},e.columnSystemCheckBox={}),null!=e.columnSystemCheckBox.hasSystemColumnCheckTotal&&void 0!==e.columnSystemCheckBox.hasSystemColumnCheckTotal?t.columnSystemCheckBox.hasSystemColumnCheckTotal=e.columnSystemCheckBox.hasSystemColumnCheckTotal:t.columnSystemCheckBox.hasSystemColumnCheckTotal="false",null!=e.columnSystemCheckBox.headerCheckTitle&&void 0!==e.columnSystemCheckBox.headerCheckTitle?t.columnSystemCheckBox.headerCheckTitle=e.columnSystemCheckBox.headerCheckTitle:t.columnSystemCheckBox.headerCheckTitle="",null!=e.columnSystemCheckBox.check_type&&void 0!==e.columnSystemCheckBox.check_type?t.columnSystemCheckBox.check_type=e.columnSystemCheckBox.check_type:t.columnSystemCheckBox.check_type="DEFAULT",null!=e.columnSystemCheckBox.methodGet&&void 0!==e.columnSystemCheckBox.methodGet?t.columnSystemCheckBox.methodGet=e.columnSystemCheckBox.methodGet:t.columnSystemCheckBox.methodGet="checked",null!=e.columnSystemCheckBox.checked_to_selected&&void 0!==e.columnSystemCheckBox.checked_to_selected?t.columnSystemCheckBox.checked_to_selected=e.columnSystemCheckBox.checked_to_selected:t.columnSystemCheckBox.checked_to_selected="checked",null!=e.columnSystemCheckBox.actionFo_SystemCheck&&void 0!==e.columnSystemCheckBox.actionFo_SystemCheck?t.columnSystemCheckBox.actionFo_SystemCheck=e.columnSystemCheckBox.actionFo_SystemCheck:(t.columnSystemCheckBox.actionFo_SystemCheck={},e.columnSystemCheckBox.actionFo_SystemCheck={}),null!=e.columnSystemCheckBox.actionFo_SystemCheck.useAction&&void 0!==e.columnSystemCheckBox.actionFo_SystemCheck.useAction?t.columnSystemCheckBox.actionFo_SystemCheck.useAction=e.columnSystemCheckBox.actionFo_SystemCheck.useAction:(t.columnSystemCheckBox.actionFo_SystemCheck.useAction="txFo",null!=e.columnSystemCheckBox.actionFo_SystemCheck.txFo&&void 0!==e.columnSystemCheckBox.actionFo_SystemCheck.txFo?t.columnSystemCheckBox.actionFo_SystemCheck.txFo=e.columnSystemCheckBox.actionFo_SystemCheck.txFo:t.columnSystemCheckBox.actionFo_SystemCheck.txFo=JSON.stringify([{txcode:"",input:{}}],null,4)),null!=e.actionFo_RowSelect?t.actionFo_RowSelect=e.actionFo_RowSelect:(t.actionFo_RowSelect={},e.actionFo_RowSelect={}),null!=e.actionFo_RowSelect.useAction&&void 0!==e.actionFo_RowSelect.useAction?t.actionFo_RowSelect.useAction=e.actionFo_RowSelect.useAction:(t.actionFo_RowSelect.useAction="txFo",null!=e.actionFo_RowSelect.txFo&&void 0!==e.actionFo_RowSelect.txFo?t.actionFo_RowSelect.txFo=e.actionFo_RowSelect.txFo:t.actionFo_RowSelect.txFo=JSON.stringify([{txcode:"",input:{}}],null,4)),t}render(){const e=this.CCP_Default_Config_tableForm;return l.a.createElement(e,{stateData:this.state.CCP_Default_Config_tableForm})}}t.default=n}}]);