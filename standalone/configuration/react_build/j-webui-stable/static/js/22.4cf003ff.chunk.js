(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[22],{188:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),s=a(207),o=a(206),l=a(204),r=a(1),c=a(208),d=a(3),g=a(4),u=a(7);class h extends i.Component{constructor(t){super(t),this.loadDataMore=()=>{this.setState({dataViewCount:this.state.dataViewCount+10})},this.handelRefresh=()=>{this.setState({isLoading:!0},()=>{const t=this.props.boLoadData;this.getDataActivityPanel(t.txcode,t.input)})},this.data_menu=r.g.cloneJson(c.a.getMenu(1))||[],this.type_screen="jActivityPanel",this.state={isLoading:!0,data:[],dataViewCount:10,lastUpdate:"--"}}getTimeActive(t){let e=t.activePanelDate,a=t.activePanelTime;return Object(u.d)(e,"DD/MM/YYYY")+" "+a}getDataActivityPanel(t,e){const a=[{txcode:t,input:e}];Object(g.b)(a,{}).then(t=>{var e=r.g.foGetData("data",t)||[];let a=[];for(const i of e)a.push({cmd:this.props.getCMD(i),dataItem:i,img:i.activePanelImg,title_bold:i.activePanelBold,title:i.activePanelTitle,time:this.getTimeActive(i),table_more:{header:{dataFull:{Header:{data:i.activePanelFistColumn.map(t=>({title:t,config:{width:""}}))}}},data:i.activePanelSecondColumn.map(t=>({data:t})),config_row:i.activePanelFistColumn.map(t=>({type:"uTableColumnDefault"}))}});this.setState({data:a,isLoading:!1,lastUpdate:Object(u.d)((new Date).getTime(),"DD/MM/YYYY HH:mm:ss")})})}componentDidMount(){const t=this.props.boLoadData;this.getDataActivityPanel(t.txcode,t.input),r.g.addScreen(this)}getDataFullTemplate(){const{isLoading:t,lastUpdate:e,dataViewCount:a}=this.state;return{abs_Click:this.props.handelClick,abs_autoCallBackData:this.loadDataMore,cmd:{isLoading:t},title:{btn_show:r.g.getLang("cpn_jActivityPanel_title_btn_show"),btn_hide:r.g.getLang("cpn_jActivityPanel_title_btn_hide"),title_panel:r.g.getLang("cpn_jActivityPanel_title_title_panel")},last_update:{title:r.g.getLang("cpn_jActivityPanel_lastUpdate_title"),date:e},btn_refresh:{dataFull:{config:{default:{title:r.g.getLang("cpn_jActivityPanel_btnRefresh_title"),icon:"cached",type:"primary"},cmd:{disable:t}},abs_Click:this.handelRefresh}},data:this.state.data.slice(0,a)}}render(){const t=Object(d.b)("uActivity");return n.a.createElement(t,{dataFull:this.getDataFullTemplate()})}}var _=h,p=a(205),m=a(203);class b extends i.Component{constructor(t){super(t);let e=r.g.context_get("user_acc"),a=r.g.getParameterSystem("DATE_FORMAT");const i="Y"!==e.branchstatus,n="Y"!==e.bankstatus;this.additionalConfig={dataHeader:{info_server_time:{tooltip:{title_big:r.g.getLang("header_desktopO9_workingDate")},title:Object(u.d)(null===e||void 0===e?void 0:e.workingdate,a)},info_server_branch:{tooltip:{title_status:i?r.g.getLang("header_desktopO9_branchClose"):r.g.getLang("header_desktopO9_branchOpen")},isClose:i,title:""+(null===e||void 0===e?void 0:e.branchname),code:""+(null===e||void 0===e?void 0:e.branchcode)},persist_info_user_add:{tooltip:{title_bold:n?"Bank "+r.g.getLang("header_isclose"):"Bank "+r.g.getLang("header_isopen"),title_big:r.g.context_get("user_jwebui.email"),title_sub:null===e||void 0===e?void 0:e.usrname,isClose:n}}}},this.ACTIVE_PANEL={boLoadData:{txcode:"bo-getData-activePanel",input:{learn_api:"O9_GET_DATA_ACTIVE_PANEL"}},handelClick:t=>{Object(g.b)([{txcode:"#sys:bo-view-dataAPIO9_F8",input:{table_code:"fof_transaction_journal",table_col_key:"",form_key:"@{a.b}",learn_api:"fof_transaction_journal_search_view_get_api_journal_txrefid",fof_transaction_journal:t}}],{})},getCMD:t=>({disable:!r.g.checkHasRoleForm("FO_"+t.txcode)})},this.state={isHoverDev:!1}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,null),n.a.createElement(p.a,null),n.a.createElement(s.a,{additionalConfig:this.additionalConfig}),n.a.createElement("div",{className:"d-flex col-12 malibu-desktop-content"},n.a.createElement("div",{className:"main-activity",style:{width:"100%"}},n.a.createElement("div",{className:"col",style:{width:"calc(100% - 294px)"}},n.a.createElement(l.a,null),n.a.createElement(o.a,null)),!r.g.checkIsPublic()&&n.a.createElement("div",{style:{display:"none",position:"fixed",bottom:"20px",left:this.state.isHoverDev?"calc(50vw - 105px)":"calc(50vw - 16px)"},onMouseEnter:()=>{this.setState({isHoverDev:!0})},onMouseLeave:()=>{this.setState({isHoverDev:!1})}},n.a.createElement("div",{className:"row",style:{display:this.state.isHoverDev?"":"none"}},n.a.createElement("div",{style:{width:"50px",height:"50px",background:"#01A6E6",borderRadius:"50%",cursor:"pointer",margin:"10px"},onClick:()=>{Object(d.a)("krungthai")}}),n.a.createElement("div",{style:{width:"50px",height:"50px",background:"#5557E4",borderRadius:"50%",cursor:"pointer",margin:"10px"},onClick:()=>{Object(d.a)("Majorelle_Blue")}}),n.a.createElement("div",{onClick:()=>{Object(d.a)("Green_Pigment")},style:{width:"50px",height:"50px",background:"#00A950",borderRadius:"50%",cursor:"pointer",margin:"10px"}})),n.a.createElement("div",{style:{textAlign:"center",width:"max-content",margin:"auto"}},n.a.createElement("i",{className:"material-icons",style:{width:"32px",height:"32px",borderRadius:"50%",border:"1px solid",textAlign:"center",fontSize:"30px",cursor:"pointer"}},"more_horiz"))),n.a.createElement(_,this.ACTIVE_PANEL))))}}e.default=b},203:function(t,e,a){"use strict";var i=a(6),n=a(0),s=a.n(n),o=a(1),l=a(4),r=a(8),c=a(3),d=a(54);class g extends n.Component{constructor(t){super(t),this.onLogin=()=>{let t=this.LOGIC_PASSWORD.getPasswordDecode();Object(l.b)([{txcode:"#sys:bo-relogin-login",input:{p:t,pin:t}}],{}).then(t=>{this.stausLogin(o.g.foGetData("login-status",t))},t=>{})},this.abs_Change=t=>{let{dataFull:e}=this.state;e.PIN.data=this.LOGIC_PASSWORD.setPassword(t.target.value.trim()),this.setState({dataFull:e})},this.startRelogin=()=>{this.setState({show:"block"},()=>{r.a.quickPost([{txcode:"#sys:bo-relogin-lockToken",input:{}}],{})})},this.LOGIC_PASSWORD=new d.a,this.USER_INFO=o.g.context_get("user_jwebui");let e=o.g.relogin_getStatus();e=e?"block":"none";let a=o.g.profileUser_get("bgrelogin");""===a.trim()&&(a="../rs/global/img/lock_screen.jpg");let i=o.g.profileUser_get("avatar");""===i.trim()&&(i="../rs/global/img/avatar.jpg");let n=o.g.relogin_loginFalseCurrent();this.state={dataFull:{status:{title:this.getStatusTitle()},PIN:{placeholder:this.getPINPlaceholder(),data:"",abs_Change:this.abs_Change,abs_Submit:this.onLogin},number_import:{title:this.getNumberWrongPassword(n)},background:{value:a},avatar:{value:i},mode:{disable:{status:!1,title:"Your screen is disabled"}}},show:e},this.flag_Unmount=!1}getStatusTitle(){return this.USER_INFO.email}getPINPlaceholder(){return o.g.getLang("unlock_password_placeholder")}getNumberWrongPassword(t){return`${o.g.getLang("number_times_remaining")}: ${o.g.relogin_maxLoginFalse()-t}`}stausLogin(t){let{dataFull:e}=this.state;if(e.PIN.data="",this.setState({dataFull:e}),void 0!==t){if(void 0!==t.status_login&&"login#127"===t.status_login)return e.number_import.title=this.getNumberWrongPassword(0),this.setState({show:"none",dataFull:e}),o.g.relogin_resetCount(),void o.g.relogin_setStatus(!1);void 0!==t.error_login&&(o.g.relogin_up_loginFalse(),e.number_import.title=this.getNumberWrongPassword(o.g.relogin_loginFalseCurrent()),this.setState({dataFull:e}),alert(o.g.getLang(t.error_login)),o.g.relogin_checkOverLoadLoginFalse()&&r.a.fo([{txcode:"#sys:fo-goto-pageLogin",input:{}}],{}))}}componentWillUnmount(){this.flag_Unmount=!0}componentDidMount(){o.g.relogin_setForm(this)}render(){const t=Object(c.b)("uLockScreen");return s.a.createElement(t,{dataFull:Object(i.a)(Object(i.a)({},this.state.dataFull),{isShow:"none"!==this.state.show})})}}e.a=g}}]);