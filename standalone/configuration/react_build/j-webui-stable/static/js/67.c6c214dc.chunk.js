(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[67],{117:function(e,a,t){"use strict";t.r(a);var l=t(6),r=t(0),s=t.n(r),i=t(3),d=t(1);const o={structable:"table.col",structable_read:"table.col",data_default:"",format:"#,###.00",decimal_length:2,isLookup:"false",data_value:"",cdlist:"",callform:"",callform_detail:"",callform_detail_mode:"modal",data_view:"",readOnly:"",isLabel:"false"};class _ extends r.Component{constructor(e){super(e),this.readConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(l.a)({},o);for(let t in a)void 0!==e[t]&&(""!==a[t]&&""===e[t]||(a[t]=e[t]));return a||{}},this.getData=()=>{let{CCP_Default_Config_currency:e}=this.state;const a=e.CS_formatMask.dataFull.data.find(e=>e.selected);let t=e.is_lookup.dataFull.data.find(e=>e.selected),l=e.isLabel.dataFull.data.find(e=>e.selected);const r=e.callform.dataFull.data.find(e=>e.selected),s=e.callform_detail.dataFull.data.find(e=>e.selected),i=e.callform_detail_mode.dataFull.data.find(e=>e.selected);return{structable:e.collection_method.dataFull.value,structable_read:e.read_data.dataFull.value,data_default:e.data_default.dataFull.value,format:a.value,decimal_length:e.CS_decimalNumber.dataFull.value,isLookup:t.value,callform:r.value,callform_detail:s.value,callform_detail_mode:i.value,data_view:e.data_view.dataFull.value,data_value:e.data_value.dataFull.value,cdlist:this.data.cdlist,readOnly:this.data.readOnly,isLabel:l.value}},this.getListFormByApp=()=>{let e=this.props.data.form_detail.info.app;return void 0===e&&(e="o9"),this.props.getAllFormByApp(e)},this.createListForms=(e,a)=>{let t=[];for(let l=-1;l<e.length;l++)-1===l?t.push({title:"",value:""}):t.push({title:e[l].info.title,value:e[l].info.form_code,selected:a===e[l].info.form_code});return t.find(e=>e.selected)||(t[0].selected=!0),t},this.validateCallForm=()=>{let{CCP_Default_Config_currency:e}=this.state;const a=e.callform.dataFull.data.find(e=>e.selected),t=e.callform_detail.dataFull.data.find(e=>e.selected);return"true"!==e.is_lookup.dataFull.data.find(e=>e.selected).value||""===a.value||a.value!==t.value||(e.callform.dataFull.config.cmd.error.message="Call data form must be different from Form detail",this.setState({CCP_Default_Config_currency:e}),!1)},this.loadDataToState=()=>({collection_method:{dataFull:{config:{default:{title:d.g.getLang("designForm_cp_structable"),class:"col-md-12 ",required:!1,placeholder:d.g.getLang("designForm_cp_structable"),helper:d.g.getLang("designForm_cp_structable_helper"),code_form_component:"collection_method"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.structable,abs_Change:this.onChangeValue}},read_data:{dataFull:{config:{default:{title:d.g.getLang("designForm_cp_structable_read"),class:"col-md-12 ",required:!1,placeholder:d.g.getLang("designForm_cp_structable_read"),helper:d.g.getLang("designForm_cp_structable_read_helper"),code_form_component:"read_data"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.structable_read,abs_Change:this.onChangeValue}},data_default:{dataFull:{config:{default:{title:d.g.getLang("designForm_jCurrency_data_default"),class:"col-md-12 ",required:!1,placeholder:d.g.getLang("designForm_jCurrency_data_default"),helper:d.g.getLang("designForm_jCurrency_data_default_helper"),code_form_component:"data_default"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.data_default,abs_Change:this.onChangeValue}},CS_multiValue:{dataFull:{config:{default:{title:d.g.getLang("designForm_jCurrency_CS_multiValue"),required:!1},cmd:{visible:!0}}}},isLabel:{dataFull:{config:{default:{search:{placeholder:"Search"},helper:d.g.getLang("designForm_jCurrency_isLabel"),data_status:"No Result",title:d.g.getLang("designForm_jCurrency_isLabel"),class:"col-md-6",required:!1,code_form_component:"isLabel"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:"Yes",value:"true",selected:"true"===this.data.isLabel},{title:"No",value:"false",selected:"true"!==this.data.isLabel}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},CS_formatMask:{dataFull:{config:{default:{search:{placeholder:d.g.getLang("designForm_jCurrency_CS_formatMask")},helper:d.g.getLang("designForm_jCurrency_CS_formatMask_helper"),data_status:"No Result",title:d.g.getLang("designForm_jCurrency_CS_formatMask"),class:"col-md-12",required:!1,code_form_component:"CS_formatMask"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:"#_______________1235",value:"#",selected:"#"===this.data.format},{title:"#.00____________1234.56",value:"#.00",selected:"#.00"===this.data.format},{title:"#,###.00________1,234.56",value:"#,###.00",selected:"#,###.00"===this.data.format},{title:"#.###,00________1.234,56",value:"#.###,00",selected:"#.###,00"===this.data.format},{title:"#,###___________1,234",value:"#,###",selected:"#,###"===this.data.format},{title:"#.###___________1.234",value:"#.###",selected:"#.###"===this.data.format}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},CS_decimalNumber:{dataFull:{config:{default:{title:d.g.getLang("designForm_jCurrency_CS_decimalNumber"),class:"col-md-12 ",required:!1,placeholder:d.g.getLang("designForm_jCurrency_CS_decimalNumber"),helper:d.g.getLang("designForm_jCurrency_CS_decimalNumber_helper"),code_form_component:"CS_decimalNumber"},cmd:{isHelper:!0,disable:!1,visible:!1===["#","#.###","#,###"].includes(this.data.format),isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.decimal_length,abs_Change:this.onChangeValue}},is_lookup:{dataFull:{config:{default:{search:{placeholder:d.g.getLang("designForm_jCurrency_is_lookup")},helper:d.g.getLang("designForm_jCurrency_is_lookup_helper"),data_status:"No Result",title:d.g.getLang("designForm_jCurrency_is_lookup"),class:"col-md-6",required:!1,code_form_component:"is_lookup"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:"No ",value:"false",selected:"false"===this.data.isLookup},{title:"Use lookup",value:"true",selected:"true"===this.data.isLookup}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},callform:{dataFull:{config:{default:{search:{placeholder:d.g.getLang("designForm_jCurrency_callform")},helper:d.g.getLang("designForm_jCurrency_callform_helper"),data_status:"No Result",title:d.g.getLang("designForm_jCurrency_callform"),class:"col-md-6",required:!1,code_form_component:"callform"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.isLookup,isFocus:!1,error:{message:"",type:""}},mode:{}},data:d.g.cloneJson(this.createListForms(this.formByApp,this.data.callform)),search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},callform_detail:{dataFull:{config:{default:{search:{placeholder:d.g.getLang("designForm_jCurrency_callform_detail")},helper:d.g.getLang("designForm_jCurrency_callform_detail_helper"),data_status:"No Result",title:d.g.getLang("designForm_jCurrency_callform_detail"),class:"col-md-6",required:!1,code_form_component:"callform_detail"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.isLookup,isFocus:!1,error:{message:"",type:""}},mode:{}},data:d.g.cloneJson(this.createListForms(this.formByApp,this.data.callform_detail)),search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},callform_detail_mode:{dataFull:{config:{default:{search:{placeholder:d.g.getLang("designForm_jCurrency_callform_detail_mode")},helper:d.g.getLang("designForm_jCurrency_callform_detail_mode_helper"),data_status:"No Result",title:d.g.getLang("designForm_jCurrency_callform_detail_mode"),class:"col-md-6",required:!1,code_form_component:"callform_detail_mode"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.isLookup,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:"Modal",value:"modal",selected:"modal"===this.data.callform_detail_mode},{title:"Main",value:"main",selected:"main"===this.data.callform_detail_mode}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},data_view:{dataFull:{config:{default:{title:d.g.getLang("designForm_jCurrency_data_view"),class:"col-md-6 ",required:!1,placeholder:d.g.getLang("designForm_jCurrency_data_view"),helper:d.g.getLang("designForm_jCurrency_data_view_helper"),code_form_component:"data_view"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.isLookup,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.data_view,abs_Change:this.onChangeValue}},data_value:{dataFull:{config:{default:{title:d.g.getLang("designForm_jCurrency_data_value"),class:"col-md-6 ",required:!1,placeholder:d.g.getLang("designForm_jCurrency_data_value"),helper:d.g.getLang("designForm_jCurrency_data_value_helper"),code_form_component:"data_value"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.isLookup,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.data_value,abs_Change:this.onChangeValue}}}),this.componentDidMount=()=>{this.setState({CCP_Default_Config_currency:this.loadDataToState()})},this.onChangeValue=(e,a)=>{let{CCP_Default_Config_currency:t}=this.state;t[a].dataFull.value=e.target.value,this.setState({CCP_Default_Config_currency:t})},this.search=(e,a)=>{let{CCP_Default_Config_currency:t}=this.state;t[a].dataFull.search_value=e.target.value;const l=this.formByApp.filter(a=>a.info.title.trim().toLowerCase().includes(e.target.value.trim().toLowerCase())||a.info.form_code.trim().toLowerCase().includes(e.target.value.trim().toLowerCase())),r=this.createListForms(l,this.data[a]);t[a].dataFull.data=r,this.setState({CCP_Default_Config_currency:t})},this.onChangeValueSelect=(e,a,t)=>{let{CCP_Default_Config_currency:l}=this.state;if(t){"CS_formatMask"===t&&(l.CS_decimalNumber.dataFull.config.cmd.visible=!["#","#.###","#,###"].includes(e)),"is_lookup"===t&&(l.callform.dataFull.config.cmd.visible="true"===e,l.callform_detail.dataFull.config.cmd.visible="true"===e,l.callform_detail_mode.dataFull.config.cmd.visible="true"===e,l.data_view.dataFull.config.cmd.visible="true"===e,l.data_value.dataFull.config.cmd.visible="true"===e);for(const a of l[t].dataFull.data)a.selected=a.value===e;this.setState({CCP_Default_Config_currency:l})}},this.CCP_Default_Config_currency=Object(i.c)("CCP_Default_Config_currency"),this.data=this.readConfig(this.props.configComponent.configItem.config),this.formByApp=this.getListFormByApp(),this.state={CCP_Default_Config_currency:{}}}render(){const e=this.CCP_Default_Config_currency;return s.a.createElement(e,{stateData:this.state.CCP_Default_Config_currency})}}a.default=_}}]);